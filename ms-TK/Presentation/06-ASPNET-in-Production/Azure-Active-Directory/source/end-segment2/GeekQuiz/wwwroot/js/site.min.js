var __decorate=this&&this.__decorate||function(t,n,e,i){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,n,e,i);switch(arguments.length){case 2:return t.reduceRight(function(t,n){return n&&n(t)||t},n);case 3:return t.reduceRight(function(t,i){return void(i&&i(n,e))},void 0);case 4:return t.reduceRight(function(t,i){return i&&i(n,e,t)||t},i)}},__param=this&&this.__param||function(t,n){return function(e,i){n(e,i,t)}},angular2_1=require("angular2/angular2"),http_1=require("angular2/http"),AppComponent=function(){function t(t){this.http=t,this.answered=!1,this.title="loading question...",this.options=[],this.correctAnswer=!1,this.working=!1}return t.prototype.answer=function(){return this.correctAnswer?"correct":"incorrect"},t.prototype.nextQuestion=function(){var t=this;this.working=!0,this.answered=!1,this.title="loading question...",this.options=[];var n=new http_1.Headers;n.append("If-Modified-Since","Mon, 27 Mar 1972 00:00:00 GMT"),this.http.get("/api/trivia",{headers:n}).map(function(t){return t.json()}).subscribe(function(n){t.options=n.options,t.title=n.title,t.answered=!1,t.working=!1},function(n){t.title="Oops... something went wrong",t.working=!1})},t.prototype.sendAnswer=function(t){var n=this;this.working=!0,this.answered=!0;var e={questionId:t.questionId,optionId:t.id},i=new http_1.Headers;i.append("Content-Type","application/json"),this.http.post("/api/trivia",JSON.stringify(e),{headers:i}).map(function(t){return t.json()}).subscribe(function(t){n.correctAnswer=t===!0,n.working=!1},function(t){n.title="Oops... something went wrong",n.working=!1})},t.prototype.afterViewInit=function(){this.nextQuestion()},t=__decorate([angular2_1.Component({selector:"geekquiz-app",viewBindings:[http_1.HTTP_BINDINGS]}),angular2_1.View({directives:[angular2_1.NgFor,angular2_1.NgClass],template:'\n        <div class="flip-container text-center col-md-12">\n            <div class="back" [ng-class]="{flip: answered, correct: correctAnswer, incorrect:!correctAnswer}">\n                <p class="lead">{{answer()}}</p>\n                <p>\n                    <button class="btn btn-info btn-lg next option" (click)="nextQuestion()" [disabled]="working">Next Question</button>\n                </p>\n            </div>\n            <div class="front" [ng-class]="{flip: answered}">\n                <p class="lead">{{title}}</p>\n                <div class="row text-center">\n                    <button class="btn btn-info btn-lg option" *ng-for="#option of options" (click)="sendAnswer(option)" [disabled]="working">{{option.title}}</button>\n                </div>\n            </div>\n        </div>\n    '}),__param(0,angular2_1.Inject(http_1.Http))],t)}();angular2_1.bootstrap(AppComponent);